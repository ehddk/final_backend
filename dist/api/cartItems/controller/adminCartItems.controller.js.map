{"version":3,"file":"adminCartItems.controller.js","sourceRoot":"","sources":["../../../../src/api/cartItems/controller/adminCartItems.controller.ts"],"names":[],"mappings":"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","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\nimport { CartItemsService } from \"@/api/cartItems/service/cartItems.service.type\";\n\nexport default class AdminCartItemsController {\n  private readonly _cartItemsService: CartItemsService;\n  constructor(_cartItemsService: CartItemsService) {\n    this._cartItemsService = _cartItemsService;\n\n    this.getCartItems = this.getCartItems.bind(this);\n    this.getCartItemDetail = this.getCartItemDetail.bind(this);\n    this.createCartItem = this.createCartItem.bind(this);\n    this.updateCartItem = this.updateCartItem.bind(this);\n    this.deleteCartItem = this.deleteCartItem.bind(this);\n  }\n\n  async getCartItems(\n    req: Request<\n      adminGetCartItemsRequest[\"path\"],\n      adminGetCartItemsResponse,\n      adminGetCartItemsRequest[\"body\"],\n      adminGetCartItemsRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    try {\n      const cartItems = await this._cartItemsService.getCartItems();\n      res.send(cartItems);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async getCartItemDetail(\n    req: Request<\n      adminGetCartItemDetailRequest[\"path\"],\n      adminGetCartItemDetailResponse,\n      adminGetCartItemDetailRequest[\"body\"],\n      adminGetCartItemDetailRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    try {\n      const cartItemDetail = await this._cartItemsService.getCartItemDetail(\n        req.params.cartItemId\n      );\n\n      res.send(cartItemDetail);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async createCartItem(\n    req: Request<\n      adminCreateCartItemRequest[\"path\"],\n      adminCreateCartItemResponse,\n      adminCreateCartItemRequest[\"body\"],\n      adminCreateCartItemRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    const { product, quantity, totalPrice, cartId } =\n      req.body;\n\n    try {\n      const cartItem = await this._cartItemsService.createCartItem(\n        req.user.userId,\n        {\n          product,\n          quantity,\n          totalPrice,\n          cartId,\n        }\n      );\n      res.send(cartItem);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async updateCartItem(\n    req: Request<\n      adminUpdateCartItemRequest[\"path\"],\n      adminUpdateCartItemResponse,\n      adminUpdateCartItemRequest[\"body\"],\n      adminUpdateCartItemRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    const { cartItemId } = req.params;\n\n    try {\n      await this._cartItemsService.updateCartItem(cartItemId, req.body);\n\n      res.status(204).json();\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  async deleteCartItem(\n    req: Request<\n      adminDeleteCartItemRequest[\"path\"],\n      adminDeleteCartItemResponse,\n      adminDeleteCartItemRequest[\"body\"],\n      adminDeleteCartItemRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    const { cartItemId } = req.params;\n    try {\n      await this._cartItemsService.deleteCartItem(cartItemId);\n      res.status(204).json();\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]}