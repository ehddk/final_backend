{"version":3,"file":"cartItems.controller.js","sourceRoot":"","sources":["../../../../src/api/cartItems/controller/cartItems.controller.ts"],"names":[],"mappings":";;AAGA,MAAqB,mBAAmB;IACrB,iBAAiB,CAAmB;IACrD,YAAY,iBAAmC;QAC7C,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAE3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,uBAAuB;IACvB,KAAK,CAAC,YAAY,CAChB,GAKC,EACD,GAAa,EACb,IAAkB;QAElB,IAAI,CAAC;YACH,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;YAC9D,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACtB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,KAAK,CAAC,CAAC;QACd,CAAC;IACH,CAAC;IAED,oBAAoB;IACpB,KAAK,CAAC,cAAc,CAClB,GAKC,EACD,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,GAC7C,GAAG,CAAC,IAAI,CAAC;QAEX,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAC1D,GAAG,CAAC,IAAI,CAAC,MAAM,EACf;gBACE,OAAO;gBACP,QAAQ;gBACR,UAAU;gBACV,MAAM;aACP,CACF,CAAC;YAEF,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,CAAC;QACd,CAAC;IACH,CAAC;IAED,oBAAoB;IACpB,KAAK,CAAC,cAAc,CAClB,GAKC,EACD,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAClC,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAC1D,UAAU,EACV,GAAG,CAAC,IAAI,CACT,CAAC;YAEF,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,KAAK,CAAC,CAAC;QACd,CAAC;IACH,CAAC;IAED,oBAAoB;IACpB,KAAK,CAAC,cAAc,CAClB,GAKC,EACD,GAAa,EACb,IAAkB;QAElB,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAElC,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAExD,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,KAAK,CAAC,CAAC;QACd,CAAC;IACH,CAAC;CACF;AA3GD,sCA2GC","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\nimport { CartItemsService } from \"@/api/cartItems/service/cartItems.service.type\";\n\nexport default class CartItemsController {\n  private readonly _cartItemsService: CartItemsService;\n  constructor(_cartItemsService: CartItemsService) {\n    this._cartItemsService = _cartItemsService;\n\n    this.getCartItems = this.getCartItems.bind(this);\n    this.createCartItem = this.createCartItem.bind(this);\n    this.updateCartItem = this.updateCartItem.bind(this);\n    this.deleteCartItem = this.deleteCartItem.bind(this);\n  }\n\n  /** 장바구니 주문 상품 목록 조회 */\n  async getCartItems(\n    req: Request<\n      getCartItemsRequest[\"path\"],\n      getCartItemsResponse,\n      getCartItemsRequest[\"body\"],\n      getCartItemsRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    try {\n      const cartItems = await this._cartItemsService.getCartItems();\n      res.send(cartItems);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  /** 장바구니 주문 상품 작성 */\n  async createCartItem(\n    req: Request<\n      createCartItemRequest[\"path\"],\n      createCartItemResponse,\n      createCartItemRequest[\"body\"],\n      createCartItemRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    const { product, quantity, totalPrice, cartId } =\n      req.body;\n\n    try {\n      const cartItem = await this._cartItemsService.createCartItem(\n        req.user.userId,\n        {\n          product,\n          quantity,\n          totalPrice,\n          cartId,\n        }\n      );\n\n      res.send(cartItem);\n    } catch (error) {\n      console.error(error);\n      next(error);\n    }\n  }\n\n  /** 장바구니 주문 상품 수정 */\n  async updateCartItem(\n    req: Request<\n      updateCartItemRequest[\"path\"],\n      updateCartItemResponse,\n      updateCartItemRequest[\"body\"],\n      updateCartItemRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    const { cartItemId } = req.params;\n    try {\n      const cartItem = await this._cartItemsService.updateCartItem(\n        cartItemId,\n        req.body\n      );\n\n      res.send(cartItem);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  /** 장바구니 주문 상품 삭제 */\n  async deleteCartItem(\n    req: Request<\n      deleteCartItemRequest[\"path\"],\n      deleteCartItemResponse,\n      deleteCartItemRequest[\"body\"],\n      deleteCartItemRequest[\"params\"]\n    >,\n    res: Response,\n    next: NextFunction\n  ) {\n    const { cartItemId } = req.params;\n\n    try {\n      await this._cartItemsService.deleteCartItem(cartItemId);\n\n      res.send(\"삭제 성공\");\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]}