{"version":3,"file":"delivery.router.js","sourceRoot":"","sources":["../../../../src/api/deliveries/router/delivery.router.ts"],"names":[],"mappings":";;;;;;AAAA,sDAAkD;AAClD,4FAAmE;AACnE,kEAAmE;AACnE,2FAAuF;AACvF,iDAAgD;AAChD,uCAAyC;AACzC,gFAA4J;AAC5J,0FAA0E;AAC1E,sFAAkF;AAClF,0GAAsG;AACtG,iGAA6F;AAEhF,QAAA,cAAc,GAAE,iBAAO,CAAC,MAAM,EAAE,CAAC;AAE9C,MAAM,eAAe,GAAC;IAClB,cAAc,EAAC,iBAAiB;IAChC,oBAAoB,EAAC,6BAA6B;IAClD,eAAe,EAAC,iBAAiB;IACjC,eAAe,EAAC,6BAA6B;IAC7C,eAAe,EAAC,6BAA6B;CAChD,CAAA;AACD,MAAM,kBAAkB,GAAE,IAAI,6BAAkB,CAC5C,IAAI,uCAAoB,CAAC,IAAI,wDAA0B,EAAE,EAAC,IAAI,sDAAyB,EAAE,EAAC,IAAI,gDAAsB,CAAC,CACxH,CAAC;AACF,sBAAc,CAAC,GAAG,CACd,IAAA,uBAAW,EAAC,eAAe,CAAC,cAAc,EAAC,sBAAY,CAAC,YAAY,CAAC,EACrE,wCAAkB,EAClB,IAAA,gCAAQ,EAAC,0CAAoB,CAAC,EAC9B,kBAAkB,CAAC,aAAa,CACnC,CAAC;AACF,sBAAc,CAAC,GAAG,CACd,IAAA,uBAAW,EAAC,eAAe,CAAC,oBAAoB,EAAC,sBAAY,CAAC,YAAY,CAAC,EAC3E,wCAAkB,EAClB,IAAA,gCAAQ,EAAC,gDAA0B,CAAC,EACpC,kBAAkB,CAAC,iBAAiB,CACvC,CAAC;AACF,sBAAc,CAAC,IAAI,CACf,IAAA,uBAAW,EAAC,eAAe,CAAC,eAAe,EAAC,sBAAY,CAAC,YAAY,CAAC,EACtE,wCAAkB,EAClB,IAAA,gCAAQ,EAAC,gDAA0B,CAAC,EACpC,kBAAkB,CAAC,cAA2C,CAAC,CAAC;AAEpE,sBAAc,CAAC,MAAM,CACjB,IAAA,uBAAW,EAAC,eAAe,CAAC,eAAe,EAAC,sBAAY,CAAC,YAAY,CAAC,EACtE,wCAAkB,EAClB,IAAA,gCAAQ,EAAC,6CAAuB,CAAC,EACjC,kBAAkB,CAAC,cAA2C,CAAC,CAAC;AACpE,sBAAc,CAAC,GAAG,CACd,IAAA,uBAAW,EAAC,eAAe,CAAC,eAAe,EAAC,sBAAY,CAAC,YAAY,CAAC,EACtE,wCAAkB,EAClB,IAAA,gCAAQ,EAAC,6CAAuB,CAAC,EACjC,kBAAkB,CAAC,cAA2C,CAAC,CAAC","sourcesContent":["import express, { RequestHandler } from \"express\";\nimport DeliveryController from \"../controller/delivery.controller\";\nimport { DeliveryServicesImpl } from \"../service/delivery.service\";\nimport { MongooseDeliveryRepository } from \"../repository/mongooseDelivery.repository\";\nimport { extractPath } from \"@/utils/path.util\";\nimport { ROUTES_INDEX } from \"@/routers\";\nimport { deleteDeliveryValidator, getDeliveryDetailValidator, getDeliveryValidator, updateDeliveryValidator } from \"../dto/validations/delivery.validation\";\nimport { validate } from \"@/api/common/middlewares/validation.middleware\";\nimport { authUserMiddleware } from \"@/api/common/middlewares/authUser.middleware\";\nimport { MongooseProfileRepository } from \"@/api/users/repository/profile/mongooseProfile.repository\";\nimport { MongooseUserRepository } from \"@/api/users/repository/user/mongooseUser.repository\";\n\nexport const deliveryRouter= express.Router();\n\nconst DELIVERY_ROUTES={\n    GET_DELIVERIES:\"/api/deliveries\",\n    GET_DELIVERY_DETAILS:\"/api/deliveries/:deliveryId\",\n    CREATE_DELIVERY:\"/api/deliveries\",\n    UPDATE_DELIVERY:\"/api/deliveries/:deliveryId\",\n    DELETE_DELIVERY:\"/api/deliveries/:deliveryId\",\n} \nconst deliveryController= new DeliveryController(\n    new DeliveryServicesImpl(new MongooseDeliveryRepository(),new MongooseProfileRepository(),new MongooseUserRepository)\n);\ndeliveryRouter.get(\n    extractPath(DELIVERY_ROUTES.GET_DELIVERIES,ROUTES_INDEX.DELIVERY_API),\n    authUserMiddleware,\n    validate(getDeliveryValidator),\n    deliveryController.getDeliveries \n);\ndeliveryRouter.get(\n    extractPath(DELIVERY_ROUTES.GET_DELIVERY_DETAILS,ROUTES_INDEX.DELIVERY_API),\n    authUserMiddleware,\n    validate(getDeliveryDetailValidator),\n    deliveryController.getDeliveryDetail \n);\ndeliveryRouter.post(\n    extractPath(DELIVERY_ROUTES.CREATE_DELIVERY,ROUTES_INDEX.DELIVERY_API),\n    authUserMiddleware,\n    validate(getDeliveryDetailValidator),\n    deliveryController.createDelivery as unknown as RequestHandler);\n\ndeliveryRouter.delete(\n    extractPath(DELIVERY_ROUTES.DELETE_DELIVERY,ROUTES_INDEX.DELIVERY_API),\n    authUserMiddleware,\n    validate(deleteDeliveryValidator),\n    deliveryController.deleteDelivery as unknown as RequestHandler);\ndeliveryRouter.put(\n    extractPath(DELIVERY_ROUTES.UPDATE_DELIVERY,ROUTES_INDEX.DELIVERY_API),\n    authUserMiddleware,\n    validate(updateDeliveryValidator),\n    deliveryController.updateDelivery as unknown as RequestHandler);"]}