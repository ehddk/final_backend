{"version":3,"file":"posts.view.router.js","sourceRoot":"","sources":["../../../../src/__api/posts/router/posts.view.router.ts"],"names":[],"mappings":";;;;;AAAA,uCAAyC;AACzC,iDAAgD;AAChD,sDAA8B;AAC9B,gGAAsE;AACtE,mFAA+E;AAC/E,iGAA6F;AAC7F,4DAA4D;AAC5D,0FAA0F;AAE1F,MAAM,cAAc,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAExC,MAAM,gBAAgB,GAAG;IACvB,aAAa;IACb,SAAS,EAAE,QAAQ;IACnB,aAAa;IACb,WAAW,EAAE,gBAAgB;IAC7B,aAAa;IACb,UAAU,EAAE,cAAc;IAC1B,aAAa;IACb,SAAS,EAAE,qBAAqB;CACxB,CAAC;AAEX,MAAM,mBAAmB,GAAG,IAAI,+BAAmB,CACjD,IAAI,gCAAgB,CAClB,IAAI,gDAAsB,EAAE,EAC5B,IAAI,gDAAsB,EAAE,CAC7B,CACF,CAAC;AAEF,cAAc,CAAC,GAAG,CAChB,IAAA,uBAAW,EAAC,gBAAgB,CAAC,SAAS,EAAE,sBAAY,CAAC,SAAS,CAAC,EAC/D,mBAAmB,CAAC,YAAY,CACjC,CAAC;AAEF,cAAc,CAAC,GAAG,CAChB,IAAA,uBAAW,EAAC,gBAAgB,CAAC,UAAU,EAAE,sBAAY,CAAC,SAAS,CAAC,EAChE,IAAA,gDAAwB,EAAC,IAAI,CAAC,EAC9B,mBAAmB,CAAC,aAAa,CAClC,CAAC;AAEF,cAAc,CAAC,GAAG,CAChB,IAAA,uBAAW,EAAC,gBAAgB,CAAC,WAAW,EAAE,sBAAY,CAAC,SAAS,CAAC,EACjE,IAAA,gDAAwB,EAAC,KAAK,CAAC,EAC/B,mBAAmB,CAAC,cAAc,CACnC,CAAC;AAEF,cAAc,CAAC,GAAG,CAChB,IAAA,uBAAW,EAAC,gBAAgB,CAAC,SAAS,EAAE,sBAAY,CAAC,SAAS,CAAC,EAC/D,IAAA,gDAAwB,EAAC,IAAI,CAAC,EAC9B,mBAAmB,CAAC,YAAY,CACjC,CAAC;AAEF,kBAAe,cAAc,CAAC","sourcesContent":["import { ROUTES_INDEX } from \"@/routers\";\nimport { extractPath } from \"@/utils/path.util\";\nimport express from \"express\";\nimport PostsViewController from \"../controller/posts.view.controller\";\nimport { MongoosePostRepository } from \"../repository/mongoosePost.repository\";\nimport { MongooseUserRepository } from \"@/api/users/repository/user/mongooseUser.repository\";\nimport { PostsServiceImpl } from \"../service/posts.service\";\nimport { authCookieViewMiddleware } from \"@/api/common/middlewares/authCookie.middleware\";\n\nconst postViewRouter = express.Router();\n\nconst POST_VIEW_ROUTES = {\n  /** 게시글 목록 */\n  POST_LIST: \"/posts\",\n  /** 게시글 상세 */\n  POST_DETAIL: \"/posts/:postId\",\n  /** 게시글 작성 */\n  POST_WRITE: \"/posts/write\",\n  /** 게시글 수정 */\n  POST_EDIT: \"/posts/:postId/edit\",\n} as const;\n\nconst postsViewController = new PostsViewController(\n  new PostsServiceImpl(\n    new MongoosePostRepository(),\n    new MongooseUserRepository()\n  )\n);\n\npostViewRouter.get(\n  extractPath(POST_VIEW_ROUTES.POST_LIST, ROUTES_INDEX.POST_VIEW),\n  postsViewController.postListPage\n);\n\npostViewRouter.get(\n  extractPath(POST_VIEW_ROUTES.POST_WRITE, ROUTES_INDEX.POST_VIEW),\n  authCookieViewMiddleware(true),\n  postsViewController.postWritePage\n);\n\npostViewRouter.get(\n  extractPath(POST_VIEW_ROUTES.POST_DETAIL, ROUTES_INDEX.POST_VIEW),\n  authCookieViewMiddleware(false),\n  postsViewController.postDetailPage\n);\n\npostViewRouter.get(\n  extractPath(POST_VIEW_ROUTES.POST_EDIT, ROUTES_INDEX.POST_VIEW),\n  authCookieViewMiddleware(true),\n  postsViewController.postEditPage\n);\n\nexport default postViewRouter;\n"]}