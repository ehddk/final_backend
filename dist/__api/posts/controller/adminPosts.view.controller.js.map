{"version":3,"file":"adminPosts.view.controller.js","sourceRoot":"","sources":["../../../../src/__api/posts/controller/adminPosts.view.controller.ts"],"names":[],"mappings":";;AAGA,MAAqB,wBAAwB;IAC1B,aAAa,CAAe;IAC7C,YAAY,aAA2B;QACrC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QAEnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,iBAAiB;IACjB,KAAK,CAAC,YAAY,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAChE,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACpD,GAAG,CAAC,MAAM,CAAC,sBAAsB,EAAE;YACjC,KAAK;SACN,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB;IACjB,KAAK,CAAC,cAAc,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAClE,IAAI,CAAC;YACH,MAAM,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC9B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC5D,GAAG,CAAC,MAAM,CAAC,wBAAwB,EAAE;gBACnC,IAAI;aACL,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YACpB,GAAG,CAAC,IAAI,CAAC,kBAAkB,KAAK,CAAC,OAAO;iDACG,CAAC,CAAC;QAC/C,CAAC;IACH,CAAC;CACF;AA9BD,2CA8BC","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\nimport { PostsService } from \"@/api/posts/service/posts.service.type\";\n\nexport default class AdminPostsViewController {\n  private readonly _postsService: PostsService;\n  constructor(_postsService: PostsService) {\n    this._postsService = _postsService;\n\n    this.postListPage = this.postListPage.bind(this);\n    this.postDetailPage = this.postDetailPage.bind(this);\n  }\n\n  /** 게시글 목록 페이지 */\n  async postListPage(req: Request, res: Response, next: NextFunction) {\n    const posts = await this._postsService.getPosts({});\n    res.render(\"admin/posts/postList\", {\n      posts,\n    });\n  }\n\n  /** 게시글 상세 페이지 */\n  async postDetailPage(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { postId } = req.params;\n      const post = await this._postsService.getPostDetail(postId);\n      res.render(\"admin/posts/postDetail\", {\n        post,\n      });\n    } catch (error: any) {\n      res.send(`<script>alert('${error.message}');\n          location.href='/admin/posts';</script>`);\n    }\n  }\n}\n"]}